# 2026-02-18 — Daily Log

## Major Milestones
- **Native install confirmed LIVE** on host (Puma :3000, MariaDB, Samba, dnsmasq)
- **Carlos Puchol (Amahi creator) responded to Troy's email** — blessed the fork name "Amahi-kai", offered to help and try it. Troy replied warmly, keeping door open.
- **All JavaScript was broken in production** — root cause: stimulus-rails and turbo-rails ship ESM-only JS, Sprockets serves via classic `<script>` tag, `export` keyword kills all JS. Fixed by vendoring IIFE builds.
- **All 3 smoke tests GREEN** — Share, User, DNS Alias create all working in browser
- **System Status dashboard** built — subtab in Settings showing system info, resources, services, managed resources
- **Database-backed file indexer** replaced `locate`-based search — ShareFile model, ShareIndexer service, systemd timer, 11 specs passing
- **README updated** — native install as primary Quick Start, Docker as alternative

## Commits Today
- c6a5431 — Fix Turbo 406 errors (respond_to blocks)
- e0a23c0 — Fix DNS alias route helper + staging path
- 08fb59d — Fix DNS alias staging to HDA_TMP_DIR
- c9c4816 — Fix debug page broken route helper
- 57aa087 — Fix user create nil @users + debug layout asset crash
- 85964c0 — Remove dead IE9 html5shim from all layouts
- a7ac19c — Update README and install docs for native-first
- de8e4bf — **Vendor IIFE builds of Stimulus and Turbo** (root cause fix)
- b86bc49 — Add validation error display to create forms
- 781cf5f — Keep create form visible on validation errors
- dd3aa52 — System Status dashboard page
- 4d18702 — Make System Status a proper subtab
- 4d4bbbe — Add plocate to installer (later replaced)
- b387a10 — **ShareFile indexer** replacing locate-based search
- 765fe15 — Fix search path string format
- ba47821 — Show recent files on blank search

## Key Decisions
- Pronouns: she/her (added to IDENTITY.md)
- Carlos branding conversation deferred — he blessed the name, didn't address UI changes specifically. Troy will raise it when there's something to show.
- Troy wants "enterprise level NAS" quality — no hacks, proper architecture
- File indexer uses DB + systemd timer (10 min), not locate/cron. inotify real-time is v2.
- Troy gave me branding/UI work to do while he's with family

## Docker Logs
- Were stuck in "Waiting to start" loop for 14 hours (old Docker log stream services)
- Root Claude replaced with journalctl-based streams — fixed

## Next Up
- Branding & UI stylization for Amahi-kai identity
- Keep Amahi lineage front and center (per Carlos conversation)

## Late Evening Session
- **Amahi-kai ocean theme set as default** (`bbd576d`) — changed `yetting.yml` default_theme and user_sessions_controller theme reset from 'default' to 'amahi-kai'. Troy liked the clean look.
- Old themes (default, beach, vertical) kept for now, cleanup later.
