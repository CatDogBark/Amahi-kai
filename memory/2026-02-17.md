# 2026-02-17 — Daily Log

## Native Install Smoke Tests: ALL 6 PASS ✅

Troy deployed to native install and confirmed all three bug fixes work:

1. **pdbedit sudo** — Fixed. User creation works end-to-end (Linux + Samba user).
   Troy added sudoers rule: `amahi ALL=(root) NOPASSWD: /usr/bin/sh -c *pdbedit*`
2. **Platform.reload .service suffix** — Fixed. `systemctl reload dnsmasq.service` works.
3. **hda-ctl-hup replacement** — Fixed. DNS alias conf generated correctly, dig resolves after restart.

## Follow-up Fixes (commit 32cb77f)

Three minor issues Troy reported, all fixed:
- **Double-trigger**: `after_create` + `after_save` both fired on create → removed `after_create`
- **chmod sudoers**: separate `chmod 644` needed extra sudoers rule → replaced `cp` + `chmod` with single `install -m 644`
- **dnsmasq reload vs restart**: SIGHUP doesn't re-read new conf-dir files → changed to `systemctl restart`

## Status

All 6 smoke tests passing on native install. Platform is functional.

## Evening Session (~19:29-21:08 UTC)
- Troy confirmed logos and UI look good on native NAS build
- Troy set up Claude to collaborate with me, but Claude worked in a separate session — no direct messages to me
- Claude's commits (separate session): dns_alias fixes, smoke test bugs, TODO rewrite, asset 404s, puma/gems, env permissions, installer fixes
- Key recent commits: `32cb77f`, `1c44abf`, `af715f1`, `8db6636`, `bc3e31e`
- Troy shutting down server for testing — context saved
