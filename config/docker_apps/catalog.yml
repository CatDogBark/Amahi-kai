---
apps:
  nextcloud:
    name: Nextcloud
    description: Self-hosted file sync and share platform with collaboration features
    logo_url: https://cdn.jsdelivr.net/gh/walkxcode/dashboard-icons/png/nextcloud.png
    image: linuxserver/nextcloud
    category: productivity
    url_path: /nextcloud
    proxy_mode: subdomain
    ports:
      443: 8443
    volumes:
      - /opt/amahi/apps/nextcloud/config:/config
      - /opt/amahi/apps/nextcloud/data:/data
    environment:
      PUID: "1000"
      PGID: "1000"
      TZ: Etc/UTC

  jellyfin:
    name: Jellyfin
    description: Free software media system for streaming movies, TV, music and more
    logo_url: https://cdn.jsdelivr.net/gh/walkxcode/dashboard-icons/png/jellyfin.png
    image: jellyfin/jellyfin
    category: media
    url_path: /jellyfin
    proxy_mode: proxy
    ports:
      8096: 8096
    volumes:
      - /opt/amahi/apps/jellyfin/config:/config
      - /opt/amahi/apps/jellyfin/cache:/cache
      - /opt/amahi/media:/media
    environment:
      JELLYFIN_PublishedServerUrl: http://localhost:8096

  pihole:
    name: Pi-hole
    description: Network-wide DNS ad blocker and local DNS server
    logo_url: https://cdn.jsdelivr.net/gh/walkxcode/dashboard-icons/png/pi-hole.png
    image: pihole/pihole
    category: networking
    url_path: /admin
    proxy_mode: proxy
    ports:
      80: 8080
    volumes:
      - /opt/amahi/apps/pihole/etc-pihole:/etc/pihole
      - /opt/amahi/apps/pihole/etc-dnsmasq.d:/etc/dnsmasq.d
    environment:
      TZ: Etc/UTC
      WEBPASSWORD: changeme

  gitea:
    name: Gitea
    description: Lightweight self-hosted Git service for code hosting and collaboration
    logo_url: https://cdn.jsdelivr.net/gh/walkxcode/dashboard-icons/png/gitea.png
    image: gitea/gitea
    category: development
    url_path: /gitea
    proxy_mode: proxy
    ports:
      3000: 3300
      22: 2222
    volumes:
      - /opt/amahi/apps/gitea/data:/data
    environment:
      USER_UID: "1000"
      USER_GID: "1000"
      GITEA__server__ROOT_URL: http://localhost:3300/app/gitea/

  portainer:
    name: Portainer
    description: Universal container management UI for Docker and Kubernetes
    logo_url: https://cdn.jsdelivr.net/gh/walkxcode/dashboard-icons/png/portainer.png
    image: portainer/portainer-ce
    category: development
    url_path: /portainer
    proxy_mode: subdomain
    ports:
      9443: 9443
    volumes:
      - /opt/amahi/apps/portainer/data:/data
      - /var/run/docker.sock:/var/run/docker.sock
    environment: {}

  homeassistant:
    name: Home Assistant
    description: Open-source home automation platform for smart home control
    logo_url: https://cdn.jsdelivr.net/gh/walkxcode/dashboard-icons/png/home-assistant.png
    image: homeassistant/home-assistant
    category: networking
    url_path: /homeassistant
    proxy_mode: subdomain
    ports:
      8123: 8123
    volumes:
      - /opt/amahi/apps/homeassistant/config:/config
    environment:
      TZ: Etc/UTC
    init_files:
      - host: /opt/amahi/apps/homeassistant/config/configuration.yaml
        container: /config/configuration.yaml
        content: |
          default_config:
          frontend:
            themes: !include_dir_merge_named themes
          automation: !include automations.yaml
          script: !include scripts.yaml
          scene: !include scenes.yaml
          http:
            use_x_forwarded_for: true
            trusted_proxies:
              - 127.0.0.1
              - 172.16.0.0/12
              - 192.168.0.0/16
              - 10.0.0.0/8

  vaultwarden:
    name: Vaultwarden
    description: Lightweight Bitwarden-compatible password manager server
    logo_url: https://cdn.jsdelivr.net/gh/walkxcode/dashboard-icons/png/vaultwarden.png
    image: vaultwarden/server
    category: productivity
    url_path: /vaultwarden
    proxy_mode: subdomain
    ports:
      80: 8880
    volumes:
      - /opt/amahi/apps/vaultwarden/data:/data
    environment:
      DOMAIN: http://localhost:8880

  syncthing:
    name: Syncthing
    description: Continuous peer-to-peer file synchronization between devices
    logo_url: https://cdn.jsdelivr.net/gh/walkxcode/dashboard-icons/png/syncthing.png
    image: syncthing/syncthing
    category: storage
    url_path: /syncthing
    proxy_mode: proxy
    ports:
      8384: 8384
      22000: 22000
    volumes:
      - /opt/amahi/apps/syncthing/config:/var/syncthing/config
      - /opt/amahi/apps/syncthing/data:/var/syncthing
    environment:
      PUID: "1000"
      PGID: "1000"

  uptimekuma:
    name: Uptime Kuma
    description: Self-hosted monitoring tool for tracking service uptime and status
    logo_url: https://cdn.jsdelivr.net/gh/walkxcode/dashboard-icons/png/uptime-kuma.png
    image: louislam/uptime-kuma
    category: monitoring
    url_path: /uptimekuma
    proxy_mode: proxy
    ports:
      3001: 3001
    volumes:
      - /opt/amahi/apps/uptimekuma/data:/app/data
    environment: {}

  transmission:
    name: Transmission
    description: Fast and lightweight BitTorrent client with web interface
    logo_url: https://cdn.jsdelivr.net/gh/walkxcode/dashboard-icons/png/transmission.png
    image: linuxserver/transmission
    category: media
    url_path: /transmission
    proxy_mode: proxy
    ports:
      9091: 9091
      51413: 51413
    volumes:
      - /opt/amahi/apps/transmission/config:/config
      - /opt/amahi/apps/transmission/downloads:/downloads
    environment:
      PUID: "1000"
      PGID: "1000"
      TZ: Etc/UTC

  paperlessngx:
    name: Paperless-ngx
    description: Document management system that transforms physical documents into searchable archive
    logo_url: https://cdn.jsdelivr.net/gh/walkxcode/dashboard-icons/png/paperless-ngx.png
    image: paperlessngx/paperless-ngx
    category: productivity
    url_path: /paperless
    proxy_mode: subdomain
    ports:
      8000: 8000
    volumes:
      - /opt/amahi/apps/paperlessngx/data:/usr/src/paperless/data
      - /opt/amahi/apps/paperlessngx/media:/usr/src/paperless/media
      - /opt/amahi/apps/paperlessngx/consume:/usr/src/paperless/consume
    environment:
      PAPERLESS_URL: http://localhost:8000
      PAPERLESS_SECRET_KEY: changeme
      PAPERLESS_TIME_ZONE: Etc/UTC

  immich:
    name: Immich
    description: High-performance self-hosted photo and video management solution
    logo_url: https://cdn.jsdelivr.net/gh/walkxcode/dashboard-icons/png/immich.png
    image: ghcr.io/immich-app/immich-server
    category: storage
    url_path: /immich
    proxy_mode: subdomain
    ports:
      3001: 2283
    volumes:
      - /opt/amahi/apps/immich/upload:/usr/src/app/upload
    environment:
      DB_HOSTNAME: immich_postgres
      DB_USERNAME: postgres
      DB_PASSWORD: postgres
      DB_DATABASE_NAME: immich
      REDIS_HOSTNAME: immich_redis

  grafana:
    name: Grafana
    description: Analytics and interactive visualization platform for monitoring dashboards
    logo_url: https://cdn.jsdelivr.net/gh/walkxcode/dashboard-icons/png/grafana.png
    image: grafana/grafana
    category: monitoring
    url_path: /grafana
    proxy_mode: proxy
    ports:
      3000: 3100
    volumes:
      - /opt/amahi/apps/grafana/data:/var/lib/grafana
    environment:
      GF_SERVER_ROOT_URL: "%(protocol)s://%(domain)s/app/grafana/"
      GF_SERVER_SERVE_FROM_SUB_PATH: "true"
      GF_SECURITY_ADMIN_PASSWORD: admin

  filebrowser:
    name: FileBrowser
    description: Web-based file manager with upload, download, and sharing capabilities
    logo_url: https://cdn.jsdelivr.net/gh/walkxcode/dashboard-icons/png/filebrowser.png
    image: filebrowser/filebrowser:v2.28.0-amd64-s6
    category: storage
    url_path: /filebrowser
    proxy_mode: proxy
    ports:
      80: 8085
    volumes:
      - /var/hda/files:/srv
      - /opt/amahi/apps/filebrowser/database:/database
    environment: {}
    init_files:
      - host: /opt/amahi/apps/filebrowser/.filebrowser.json
        container: /.filebrowser.json
        content: '{"port":80,"baseURL":"","address":"0.0.0.0","log":"stdout","database":"/database/filebrowser.db","root":"/srv"}'

  audiobookshelf:
    name: Audiobookshelf
    description: Self-hosted audiobook and podcast server with progress tracking
    logo_url: https://cdn.jsdelivr.net/gh/walkxcode/dashboard-icons/png/audiobookshelf.png
    image: ghcr.io/advplyr/audiobookshelf
    category: media
    url_path: /audiobookshelf
    proxy_mode: proxy
    ports:
      80: 13378
    volumes:
      - /opt/amahi/apps/audiobookshelf/config:/config
      - /opt/amahi/apps/audiobookshelf/metadata:/metadata
      - /opt/amahi/audiobooks:/audiobooks
      - /opt/amahi/podcasts:/podcasts
    environment: {}
